<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LABIC</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#1a237e',
                        'secondary': '#e3f2fd',
                        'tertiary': '#455a64',
                        'accent': '#42a5f5',
                        'accent-light': '#90caf9',
                        'dark-text': '#263238',
                        'light-text': '#e8eaf6',
                        'background': '#f8f9fa',
                        'background-dark': '#111827',
                        'card-dark': '#1f2937'
                    },
                }
            }
        }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" xintegrity="sha512-SnH5WK+bZxgPHs44uW/r8Wl630WpD/jXgD0R8T2bB/pG/Pz4Jp5X5K5e5p5d5e5p5u5g5u5g5u5g5u5g5u5g5u5g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="assets/images/favicon.ico">
    
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
            }
        }
    </script>
    
    <style>
        .dark {
            background-color: #111827;
            color: #e8eaf6;
        }

        .dark .bg-background {
            background-color: #1f2937;
        }

        .dark .bg-white {
            background-color: #1f2937;
        }

        .dark .text-dark-text {
            color: #e8eaf6;
        }

        .dark .text-tertiary {
            color: #9ca3af;
        }

        .dark .shadow-lg {
            box-shadow: 0 10px 15px -3px rgba(243, 244, 246, 0.1), 0 4px 6px -2px rgba(243, 244, 246, 0.05);
        }

        .dark .navbar {
            background-color: #1f2937 !important;
        }

        .dark .navbar-nav .nav-link {
            color: #e8eaf6 !important;
        }
        
        .dark .nav-item .form-check-label i {
            color: #e8eaf6;
        }

        .dark .nav-item .form-check-label .fa-moon {
            color: #e8eaf6;
        }
        
        #model-container {
            position: relative;
            background-color: #f0f0f0;
            border-radius: 1rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 400px;
        }
        
        #model-container canvas {
            width: 100% !important;
            height: 100% !important;
            border-radius: 1rem;
            touch-action: none;
        }
        
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 10;
            border-radius: 1rem;
        }
        
        .dark .loading-overlay {
            background-color: rgba(31, 41, 55, 0.8);
        }
        
        .error-message {
            color: #dc3545;
            font-weight: bold;
            text-align: center;
            padding: 1rem;
        }
    </style>
</head>
<body class="bg-background text-dark-text font-sans transition-colors duration-300">

    <header class="bg-white shadow-lg sticky top-0 z-50 transition-colors duration-300">
        <nav class="container mx-auto px-4 py-4 flex flex-wrap justify-between items-center">
            <a class="flex items-center space-x-2" href="index.html">
                <img src="assets/images/logo.png" alt="Ícone da Logo" height="10">
            </a>
            <button class="lg:hidden text-tertiary" id="menu-button">
                <i class="fas fa-bars fa-lg"></i>
            </button>
            <div id="nav-menu" class="hidden lg:flex w-full lg:w-auto mt-4 lg:mt-0 items-center">
                <ul class="flex flex-col lg:flex-row lg:space-x-8 w-full lg:w-auto text-center items-center">
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="index.html">Home</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="projeto.html">O Projeto</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="referencial.html">Referencial</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="resultados.html">Resultados</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="publicacoes.html">Publicações</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="blog.html">Blog</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="dados.html">Dados</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="glossario.html">Glossário</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="sobre.html">Sobre</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="contato.html">Contato</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="login.html">Login</a></li>
                    <li><a class="nav-link text-lg font-medium hover:text-accent py-2 lg:py-0" href="cadastro.html">Cadastro</a></li>
                    <li class="flex items-center justify-center lg:ml-4 mt-4 lg:mt-0">
                        <input type="checkbox" id="darkModeToggle" class="hidden">
                        <label for="darkModeToggle" class="cursor-pointer text-tertiary">
                            <i class="fas fa-sun text-xl"></i>
                            <i class="fas fa-moon text-xl ml-2"></i>
                        </label>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section class="relative h-screen bg-cover bg-center flex items-center justify-center text-white" style="background-image: url('hero-suape.jpg');">
            <div class="absolute inset-0 bg-primary bg-opacity-70"></div>
            <div class="relative text-center p-8 max-w-4xl mx-auto z-10">
                <h1 class="text-4xl sm:text-5xl md:text-6xl font-bold leading-tight drop-shadow-lg">
                    Liga Acadêmica de Biologia Imaculada Conceição
                </h1>
                <p class="mt-4 text-xl md:text-2xl drop-shadow-md">
                    Dedicados ao estudo e à pesquisa em prol da saúde ambiental e do desenvolvimento sustentável.
                </p>
                <a href="#about" class="mt-8 inline-block px-8 py-3 bg-accent font-semibold text-lg text-white rounded-full shadow-lg hover:bg-accent-light transition-colors duration-300">
                    Conheça Nossos Projetos
                </a>
            </div>
        </section>

        <section id="about" class="py-16 md:py-24 bg-background">
            <div class="container mx-auto px-4 max-w-7xl">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-primary">Nossa Missão e Valores</h2>
                    <p class="text-lg text-tertiary mt-2">
                        Acreditamos na ciência como ferramenta para a conscientização e a mudança.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                    <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                        <div class="text-5xl text-accent mb-4"><i class="fas fa-flask"></i></div>
                        <h3 class="text-xl font-semibold mb-2 text-primary">Pesquisa Inovadora</h3>
                        <p class="text-tertiary">
                            Conduzimos estudos rigorosos sobre os ecossistemas locais, focando nos impactos socioambientais de atividades humanas.
                        </p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                        <div class="text-5xl text-accent mb-4"><i class="fas fa-bullhorn"></i></div>
                        <h3 class="text-xl font-semibold mb-2 text-primary">Divulgação e Educação</h3>
                        <p class="text-tertiary">
                            Tornamos a ciência acessível a todos, compartilhando nossos achados e promovendo o debate sobre a sustentabilidade.
                        </p>
                    </div>
                    <div class="bg-white p-8 rounded-xl shadow-lg hover:shadow-2xl transition-shadow duration-300">
                        <div class="text-5xl text-accent mb-4"><i class="fas fa-hand-holding-heart"></i></div>
                        <h3 class="text-xl font-semibold mb-2 text-primary">Compromisso Ético</h3>
                        <p class="text-tertiary">
                            Atuamos com ética e responsabilidade, buscando o equilíbrio entre o desenvolvimento econômico e a conservação ambiental.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 md:py-24 bg-secondary">
            <div class="container mx-auto px-4 max-w-7xl">
                <div class="flex flex-col lg:flex-row items-center space-y-12 lg:space-y-0 lg:space-x-12">
                    <div class="text-content flex-1 max-w-2xl">
                        <h2 class="text-3xl md:text-4xl font-bold text-primary mb-4">O Gigante Marítimo</h2>
                        <p class="text-lg text-tertiary mb-6">
                            Visualize o modelo 3D de um navio MRC Juliette, que navega por rotas globais e tem sua parada no Porto de Suape. Este modelo ilustra a magnitude das operações portuárias na região, um foco central de nossas pesquisas sobre o impacto da navegação e da infraestrutura portuária no ambiente marinho.
                        </p>
                        <ul class="list-disc list-inside space-y-2 text-tertiary">
                            <li><i class="fas fa-ship text-accent mr-2"></i><strong>Impacto da Navegação:</strong> Avaliação da saúde dos ecossistemas marinhos.</li>
                            <li><i class="fas fa-water text-accent mr-2"></i><strong>Bioindicadores:</strong> Análise da qualidade da água e sedimentos.</li>
                            <li><i class="fas fa-fish text-accent mr-2"></i><strong>Ecossistemas Atingidos:</strong> Estudo de macroalgas e a vida marinha local.</li>
                        </ul>
                    </div>
                    <div id="model-container" class="model-container w-full lg:w-1/2 min-h-[400px] lg:min-h-[500px]">
                        <div class="loading-overlay" id="loading-overlay">
                            <div class="text-primary text-center">
                                <div class="spinner-border animate-spin inline-block w-8 h-8 border-4 rounded-full border-b-transparent"></div>
                            </div>
                            <p class="loading-text mt-4 text-tertiary">Carregando modelo 3D...</p>
                        </div>
                        <div id="error-message" class="error-message hidden"></div>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 md:py-24 bg-background">
            <div class="container mx-auto px-4 max-w-7xl">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-bold text-primary">Nossos Projetos de Pesquisa</h2>
                    <p class="text-lg text-tertiary mt-2">
                        Conheça o trabalho de cada grupo da nossa Liga.
                    </p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-accent">
                        <div class="text-3xl text-accent mb-4"><i class="fas fa-chart-line"></i></div>
                        <h3 class="text-xl font-semibold mb-2 text-primary">3º Ano</h3>
                        <p class="text-tertiary">
                            Bioindicadores da Qualidade da Água em áreas de influência do Porto de Suape, avaliando a saúde de ecossistemas costeiros.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-accent">
                        <div class="text-3xl text-accent mb-4"><i class="fas fa-fish"></i></div>
                        <h3 class="text-xl font-semibold mb-2 text-primary">2º Ano A</h3>
                        <p class="text-tertiary">
                            Investigação da conexão entre o porto e a ocorrência de tubarões em Recife no projeto "Rotas Alteradas?".
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-accent">
                        <div class="text-3xl text-accent mb-4"><i class="fas fa-hands-wash"></i></div>
                        <h3 class="text-xl font-semibold mb-2 text-primary">2º Ano B</h3>
                        <p class="text-tertiary">
                            Análise dos Impactos do saneamento básico na saúde na ilha de Tatuoquinha, Porto de Suape.
                        </p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-lg border-t-4 border-accent">
                        <div class="text-3xl text-accent mb-4"><i class="fas fa-leaf"></i></div>
                        <h3 class="text-xl font-semibold mb-2 text-primary">1º Ano</h3>
                        <p class="text-tertiary">
                            Biofiltração inteligente utilizando macroalgas para remediação de efluentes em áreas portuárias.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-16 bg-primary text-white text-center">
            <div class="container mx-auto px-4 max-w-4xl">
                <h2 class="text-3xl md:text-4xl font-bold leading-tight">Junte-se a nós na proteção do nosso ecossistema</h2>
                <p class="mt-4 text-xl opacity-90">
                    Seja parte da mudança. Contribua com nossa pesquisa ou simplesmente se informe sobre nossos resultados.
                </p>
                <a href="#contato" class="mt-8 inline-block px-8 py-3 bg-accent-light font-semibold text-lg text-primary rounded-full shadow-lg hover:bg-white transition-colors duration-300">
                    Entre em Contato
                </a>
            </div>
        </section>

    </main>

    <footer class="bg-tertiary text-light-text py-12">
        <div class="container mx-auto px-4 text-center">
            <div class="flex justify-center space-x-6 mb-4 text-2xl">
                <a href="#" class="hover:text-accent transition-colors duration-300"><i class="fab fa-x-twitter"></i></a>
                <a href="https://www.instagram.com/labic.imaculada/" class="hover:text-accent transition-colors duration-300"><i class="fab fa-instagram"></i></a>
                <a href="#" class="hover:text-accent transition-colors duration-300"><i class="fab fa-linkedin-in"></i></a>
            </div>
            <p class="text-sm opacity-80">&copy; 2025 Liga Acadêmica de Biologia Imaculada Conceição | Todos os direitos reservados.</p>
            <p class="text-sm opacity-80 mt-2">Orientação: Prof. Vanbasten Rocha</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Dark Mode Toggle Logic
            const darkModeToggle = document.getElementById('darkModeToggle');
            const html = document.documentElement;

            const applyTheme = (theme) => {
                if (theme === 'dark') {
                    html.classList.add('dark');
                } else {
                    html.classList.remove('dark');
                }
            };

            const storedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (storedTheme) {
                applyTheme(storedTheme);
                darkModeToggle.checked = storedTheme === 'dark';
            } else {
                applyTheme(prefersDark ? 'dark' : 'light');
                darkModeToggle.checked = prefersDark;
            }

            darkModeToggle.addEventListener('change', () => {
                const newTheme = darkModeToggle.checked ? 'dark' : 'light';
                applyTheme(newTheme);
                localStorage.setItem('theme', newTheme);
            });

            // Mobile Menu Toggle
            const menuButton = document.getElementById('menu-button');
            const navMenu = document.getElementById('nav-menu');
            menuButton.addEventListener('click', () => {
                navMenu.classList.toggle('hidden');
            });

            // Three.js 3D Model Logic
            const modelContainer = document.getElementById('model-container');
            const loadingOverlay = document.getElementById('loading-overlay');
            const errorMessage = document.getElementById('error-message');

            let renderer, scene, camera, model, controls;
            let autoRotate = true;
            const autoRotationSpeed = 0.001; // Reduced speed

            const setupScene = () => {
                try {
                    // Renderer
                    renderer = new THREE.WebGLRenderer({ antialias: true });
                    renderer.setPixelRatio(window.devicePixelRatio);
                    renderer.setSize(modelContainer.clientWidth, modelContainer.clientHeight);
                    renderer.toneMapping = THREE.ACESFilmicToneMapping;
                    renderer.toneMappingExposure = 1;
                    renderer.outputEncoding = THREE.sRGBEncoding;
                    modelContainer.appendChild(renderer.domElement);
                    
                    // Scene
                    scene = new THREE.Scene();
                    scene.background = new THREE.Color(0x1a1a1a);
                    
                    // Camera
                    camera = new THREE.PerspectiveCamera(75, modelContainer.clientWidth / modelContainer.clientHeight, 0.1, 1000);
                    camera.position.set(0, 10, 50);

                    // Controls
                    const OrbitControls = THREE.OrbitControls;
                    controls = new OrbitControls(camera, renderer.domElement);
                    controls.enableDamping = true; // smooths out the rotation
                    controls.dampingFactor = 0.05;
                    controls.minDistance = 30;
                    controls.maxDistance = 100;

                    // Disable auto-rotation when user interacts
                    controls.addEventListener('start', () => autoRotate = false);
                    controls.addEventListener('end', () => autoRotate = true);

                    // Lighting
                    const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
                    scene.add(ambientLight);

                    // Load HDRI environment
                    const rgbeLoader = new THREE.RGBELoader();
                    rgbeLoader.load('assets/3d/qwantani_moonrise_puresky_4k.exr', (texture) => {
                        texture.mapping = THREE.EquirectangularReflectionMapping;
                        scene.environment = texture;
                        scene.background = texture;
                    });
                    
                    // Load GLTF Model
                    const gltfLoader = new THREE.GLTFLoader();
                    gltfLoader.load('assets/3d/container_ship.glb', (gltf) => {
                        model = gltf.scene;
                        model.scale.set(0.1, 0.1, 0.1);
                        model.position.set(0, -5, 0);
                        scene.add(model);
                        loadingOverlay.style.display = 'none';
                        animate();
                    }, (progress) => {
                        const percent = Math.floor(progress.loaded / progress.total * 100);
                        if (document.querySelector('.loading-text')) {
                            document.querySelector('.loading-text').textContent = `Carregando modelo 3D... ${percent}%`;
                        }
                    }, (error) => {
                        console.error('An error happened loading the GLTF model', error);
                        loadingOverlay.style.display = 'none';
                        errorMessage.classList.remove('hidden');
                        errorMessage.textContent = 'Erro ao carregar o modelo 3D. Tente novamente mais tarde.';
                    });
                    
                } catch (e) {
                    console.error('Erro de inicialização do Three.js:', e);
                    loadingOverlay.style.display = 'none';
                    errorMessage.classList.remove('hidden');
                    errorMessage.textContent = 'Ocorreu um erro ao inicializar o ambiente 3D. Por favor, recarregue a página.';
                }
            }

            // Animation loop
            const animate = () => {
                requestAnimationFrame(animate);
                if (model && autoRotate) {
                    model.rotation.y += autoRotationSpeed;
                }
                if (controls) {
                    controls.update(); // only required if controls.enableDamping is true
                }
                renderer.render(scene, camera);
            };

            // Handle window resize
            const onWindowResize = () => {
                if (camera && renderer) {
                    camera.aspect = modelContainer.clientWidth / modelContainer.clientHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(modelContainer.clientWidth, modelContainer.clientHeight);
                }
            };
            window.addEventListener('resize', onWindowResize);

            setupScene();
        });
    </script>
</body>
</html>