<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>O Projeto - LABIC</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="icon" href="assets/images/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Open+Sans:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uW/r8Wl630WpD/jXgD0R8T2bB/pG/Pz4Jp5X5K5e5p5d5e5p5u5g5u5g5u5g5u5g5u5g5u5g5u5g5u5g5u5g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
            }
        }
    </script>

    <style>
        .modal-body-3d {
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        #model-container {
            width: 100%;
            height: 100%;
            overflow: hidden;
            border-radius: 8px;
            background-color: #1a1a1a;
            position: relative;
        }

        #model-container canvas {
            display: block;
        }

        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            text-align: center;
            z-index: 10;
        }

        .spinner-border {
            width: 3rem;
            height: 3rem;
            margin-bottom: 1rem;
        }

        .error-message {
            color: #ff4d4d;
            text-align: center;
            font-weight: bold;
        }
    </style>
</head>
<body>

    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light">
            <div class="container-fluid">
                <a class="navbar-brand" href="index.html">
                    <img src="assets/images/logo.png" alt="Ícone da Logo" height="40">
                </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="projeto.html">O Projeto</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="referencial.html">Referencial</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="resultados.html">Resultados</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="publicacoes.html">Publicações</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="blog.html">Blog</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="dados.html">Dados</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="glossario.html">Glossário</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="sobre.html">Sobre</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="contato.html">Contato</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="login.html">Login</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="cadastro.html">Cadastro</a>
                        </li>
                        <li class="nav-item dark-mode-toggle-container">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" role="switch" id="darkModeToggle">
                                <label class="form-check-label" for="darkModeToggle">
                                    <i class="fas fa-sun"></i>
                                    <i class="fas fa-moon"></i>
                                </label>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <div class="container my-5">
            <section class="text-center" data-aos="fade-up">
                <h1 class="display-4 fw-bold">O Projeto</h1>
                <p class="lead">Conheça a Liga Acadêmica de Biologia e nossos projetos de pesquisa.</p>
            </section>
            
            <section class="content-section" data-aos="fade-up" data-aos-delay="200">
                <h2>Apresentação da Liga</h2>
                <p>A Liga Acadêmica de Biologia Imaculada Conceição é um grupo de pesquisa focado em temas de relevância científica e ambiental, com o objetivo de promover o conhecimento e a conscientização sobre questões biológicas complexas. Nossas investigações são conduzidas com rigor metodológico e visam contribuir para o entendimento de fenômenos ecológicos e a busca por soluções sustentáveis.</p>
            </section>
            
            <section class="content-section" data-aos="fade-up" data-aos-delay="300">
                <h2>Projetos de Pesquisa</h2>
                
                <div class="project-group mb-4">
                    <h3>3º Ano</h3>
                    <p><strong>Tema:</strong> Bioindicadores da Qualidade da Água em Áreas de Influência do Porto de Suape: Avaliação da Saúde de Ecossistemas Costeiros.</p>
                    <p><strong>Membros:</strong> Arthur Lemos, Marília Laura, Lyvia Beatriz, Taísa Paiva, Maria Letícia, Maria Eduarda e Pedro Martins.</p>
                    <button type="button" class="btn btn-primary mt-3" data-bs-toggle="modal" data-bs-target="#projectModal">
                        Ver Protótipo 3D
                    </button>
                </div>
                
                <div class="project-group mb-4">
                    <h3>2º Ano A</h3>
                    <p><strong>Tema:</strong> Rotas Alteradas? Investigando a conexão entre o porto de Suape e a ocorrência de tubarões na região metropolitana do Recife.</p>
                    <p><strong>Membros:</strong> Maria Eduarda Gaspar, Mayra, Maria Clara, Ana Beatriz do Canto, Yasmin Melo, Julia Beatriz e Julie Azevedo.</p>
                </div>

                <div class="project-group mb-4">
                    <h3>2º Ano B</h3>
                    <p><strong>Tema:</strong> Análise dos Impactos do saneamento básico na saúde na ilha de Tatuoquinha, Porto de Suape.</p>
                    <p><strong>Membros:</strong> Giovana Silveira, Júlia Silveira, Eutália Duarte, Fernando José, Adélia Amorim, Pedro Miguel e Maria Vitória Galamba.</p>
                </div>
                
                <div class="project-group mb-4">
                    <h3>1º Ano</h3>
                    <p><strong>Tema:</strong> Biofiltração inteligente: avaliação da eficiência de diferentes espécies de macroalgas na remediação de Efluentes encontradas em áreas portuárias de suape.</p>
                    <p><strong>Membros:</strong> Flora Nascimento, Gabriele Machado, Gabrielly Marinho, Alícia Vitória, Heitor e Bruno.</p>
                </div>
            </section>
            
            <section class="content-section" data-aos="fade-up" data-aos-delay="500">
                <h2>Orientador</h2>
                <p>Todos os projetos são orientados pelo Prof. Vanbasten Rocha.</p>
            </section>
            
        </div>
    </main>

    <div class="modal fade" id="projectModal" tabindex="-1" aria-labelledby="projectModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="projectModalLabel">Protótipo de Monitoramento de Água Inteligente</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="row modal-body-3d">
                        <div class="col-md-7">
                            <div id="model-container">
                                <div id="loading-overlay" class="loading-overlay">
                                    <div class="spinner-border text-primary" role="status">
                                        <span class="visually-hidden">Loading...</span>
                                    </div>
                                    <div class="loading-text">Carregando modelo 3D... 0%</div>
                                </div>
                                <div id="error-message" class="error-message hidden"></div>
                            </div>
                        </div>
                        <div class="col-md-5">
                            <p>Um Protótipo de Monitoramento de Água Inteligente 3D que nós criamos. Esse protótipo tem como material um Arduino que controla os sensores de ph, a turbidez, a temperatura da água. Usamos um protoboard de 830 pontose na programação usamos as bibliotecas de C++ LiquidCrystal_I2C, OneWire e DallasTemperature para conduzir o Arduino a calibrar os materiais necessários.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p>&copy; 2025 Liga Acadêmica de Biologia Imaculada Conceição | Todos os direitos reservados.</p>
        <p>Orientação: Prof. Vanbasten Rocha</p>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="module">
        import * as THREE from 'three';
        import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
        import { RGBELoader } from 'three/addons/loaders/RGBELoader.js';

        window.addEventListener('load', () => {
            // Three.js 3D Model Logic
            const modelContainer = document.getElementById('model-container');
            const loadingOverlay = document.getElementById('loading-overlay');
            const errorMessage = document.getElementById('error-message');

            let renderer, scene, camera, model;

            const setupScene = () => {
                try {
                    // Renderer
                    renderer = new THREE.WebGLRenderer({ antialias: true });
                    renderer.setPixelRatio(window.devicePixelRatio);
                    renderer.setSize(modelContainer.clientWidth, modelContainer.clientHeight);
                    renderer.toneMapping = THREE.ACESFilmicToneMapping;
                    renderer.toneMappingExposure = 1;
                    renderer.outputColorSpace = THREE.SRGBColorSpace;
                    modelContainer.appendChild(renderer.domElement);
                    
                    // Scene
                    scene = new THREE.Scene();
                    scene.background = new THREE.Color(0x1a1a1a);
                    
                    // Camera
                    camera = new THREE.PerspectiveCamera(75, modelContainer.clientWidth / modelContainer.clientHeight, 0.1, 1000);
                    camera.position.set(0, 10, 50);

                    // Lighting
                    const ambientLight = new THREE.AmbientLight(0xffffff, 0.5);
                    scene.add(ambientLight);

                    // Load HDRI environment
                    const rgbeLoader = new THREE.RGBELoader();
                    rgbeLoader.load('assets/3d/model2/qwantani_moonrise_puresky_4k.exr', (texture) => {
                        texture.mapping = THREE.EquirectangularReflectionMapping;
                        scene.environment = texture;
                        scene.background = texture;
                    });
                    
                    // Load GLTF Model
                    const gltfLoader = new GLTFLoader();
                    gltfLoader.load('assets/3d/model2/smart_water.glb', (gltf) => {
                        model = gltf.scene;
                        model.scale.set(0.1, 0.1, 0.1);
                        model.position.set(0, -5, 0);
                        scene.add(model);
                        loadingOverlay.style.display = 'none';
                        animate();
                    }, (progress) => {
                        const percent = Math.floor(progress.loaded / progress.total * 100);
                        if (document.querySelector('.loading-text')) {
                            document.querySelector('.loading-text').textContent = `Carregando modelo 3D... ${percent}%`;
                        }
                    }, (error) => {
                        console.error('An error happened loading the GLTF model', error);
                        loadingOverlay.style.display = 'none';
                        errorMessage.classList.remove('hidden');
                        errorMessage.textContent = 'Erro ao carregar o modelo 3D. Tente novamente mais tarde.';
                    });

                    // Interactive Controls (Mouse and Touch rotation)
                    let isDragging = false;
                    let previousMousePosition = { x: 0, y: 0 };
                    
                    const toRadians = (angle) => angle * (Math.PI / 180);

                    modelContainer.addEventListener('mousedown', (e) => {
                        isDragging = true;
                        previousMousePosition.x = e.clientX;
                        previousMousePosition.y = e.clientY;
                    });

                    modelContainer.addEventListener('mousemove', (e) => {
                        if (!isDragging || !model) return;
                        const deltaX = e.clientX - previousMousePosition.x;
                        const deltaY = e.clientY - previousMousePosition.y;

                        model.rotation.y += toRadians(deltaX * 0.5);
                        model.rotation.x += toRadians(deltaY * 0.5);

                        previousMousePosition.x = e.clientX;
                        previousMousePosition.y = e.clientY;
                    });

                    modelContainer.addEventListener('mouseup', () => {
                        isDragging = false;
                    });

                    // Touch events for mobile
                    modelContainer.addEventListener('touchstart', (e) => {
                        e.preventDefault();
                        isDragging = true;
                        previousMousePosition.x = e.touches[0].clientX;
                        previousMousePosition.y = e.touches[0].clientY;
                    });

                    modelContainer.addEventListener('touchmove', (e) => {
                        e.preventDefault();
                        if (!isDragging || !model) return;
                        const deltaX = e.touches[0].clientX - previousMousePosition.x;
                        const deltaY = e.touches[0].clientY - previousMousePosition.y;

                        model.rotation.y += toRadians(deltaX * 0.5);
                        model.rotation.x += toRadians(deltaY * 0.5);

                        previousMousePosition.x = e.touches[0].clientX;
                        previousMousePosition.y = e.touches[0].clientY;
                    });

                    modelContainer.addEventListener('touchend', () => {
                        isDragging = false;
                    });
                    
                } catch (e) {
                    console.error('Erro de inicialização do Three.js:', e);
                    loadingOverlay.style.display = 'none';
                    errorMessage.classList.remove('hidden');
                    errorMessage.textContent = 'Ocorreu um erro ao inicializar o ambiente 3D. Por favor, recarregue a página.';
                }
            }

            // Animation loop
            const animate = () => {
                requestAnimationFrame(animate);
                if (model) {
                    model.rotation.y += 0.005;
                }
                renderer.render(scene, camera);
            };

            // Handle window resize
            const onWindowResize = () => {
                if (camera && renderer) {
                    camera.aspect = modelContainer.clientWidth / modelContainer.clientHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(modelContainer.clientWidth, modelContainer.clientHeight);
                }
            };
            window.addEventListener('resize', onWindowResize);

            setupScene();
        });
    </script>
    <script>
        AOS.init();
    </script>
    <script src="js/main.js"></script>
</body>
</html>